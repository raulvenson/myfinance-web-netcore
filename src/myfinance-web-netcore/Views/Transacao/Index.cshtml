@{
    ViewData["Title"] = "Transações Finaneceiras";
}

<h1>@ViewData["Title"]</h1>



<button type="button" class="btn btn-primary btn-lg" onclick="Novo()">Registrar Transações</button>

<hr>

<form asp-controller="Transacao" asp-action="Index" method="post">
    <input type="date" id="date1" class="form-control"  name="DataInicio"/>
    <input type="date" class="form-control mt-2" id="date2" name="DataFim">
    <button type="submit" class="btn btn-primary btn-lg mt-2" >Filtrar</button>
</form>
<hr>
<table class="table table-dark table-striped">
    <thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Data</th>
            <th scope="col">Histórico</th>
            <th scope="col">Valor</th>
            <th scope="col">Tipo de Operação</th>
            <th scope="col">Plano Conta</th>
            <th scope="col">#</th>
            <th scope="col">#</th>
        </tr>
    </thead>
    <tbody>
@{
    foreach(var item in (List<TransacaoModel>) @ViewBag.Transacoes){
        <tr>
            <td>@item.Id</td>
            <td>@item.Data</td>
            <td>@item.Historico</td>
            <td>@item.Valor</td>
            <td>@item.ItemPlanoConta.Tipo</td>
            <td>@item.ItemPlanoConta.Descricao</td>
            <td><button type="button" class="btn btn-outline-warning" onclick="Editar(@item.Id.ToString())">Editar</button></td>
            <td><button type="button" class="btn btn-outline-danger" onclick="Excluir(@item.Id.ToString())">Excluir</button></td>
        </tr>
        }
}
    </tbody>


</table>

<script>
    function Excluir(id){
        window.location.href = "../Transacao/Excluir/" + id
    }
    function Editar(id){
        window.location.href = "../Transacao/Cadastro/" + id
    }
    function Novo(){
        window.location.href = "../Transacao/Cadastro"
    }
</script>